(this.webpackJsonpinspoapp=this.webpackJsonpinspoapp||[]).push([[0],{61:function(e,t,a){e.exports=a(91)},71:function(e,t,a){},72:function(e,t,a){},77:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),l=a.n(o),s=a(12),i=a(18),c=(a(70),a(71),a(5)),m=a(6),p=a(8),u=a(7),d=a(13),h=a(16);function f(e){return{type:"@@USER/UPDATE_USER_INFO_ACTION",userName:e.email,fname:e.fname,lname:e.lname}}function E(e){return{type:"@@USER/UPDATE_ACCOUNT_SIGNED_IN_ACTION",signedIn:e}}var g=a(27),b=a(92),v=a(35),y=a.n(v),N=a(36),O=a.n(N),_=a(31),C=a.n(_),P=a(53),D=a.n(P),w={email:{rules:[{test:function(e){return e.length>0&&e.includes("@")},message:"Invalid email input. Example: example@email.com"}],errors:[],valid:!1,state:""},password:{rules:[{test:function(e){return RegExp(/^(?=.*[a-z])(?=.*[A-Z]).*$/).test(e)||e.length>=8},message:"Password must contain at least one lowercase letter, one uppercase letter and be at least 8 characters long"}],errors:[],valid:!1,state:""},fname:{rules:[{test:function(e){return e.length>0},message:"First name cannot be empty"}],errors:[],valid:!1,state:""},lname:{rules:[{test:function(e){return e.length>0},message:"Last name cannot be empty"}],errors:[],valid:!1,state:""}},I=(a(72),function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={email:"",password:"",fname:"",lname:"",showPassword:!1,shouldShowCreateError:!1},e.validator=w,e.resetValidator=function(){for(var e=0,t=Object.entries(w);e<t.length;e++){var a=t[e];a[1].errors=[],a[1].state="",a[1].valid=!1}},e.handleInputChange=function(t,a){e.setState(Object(g.a)({},a,t.target.value)),e.updateValidators(a,t.target.value)},e.updateValidators=function(t,a){e.validator[t].errors=[],e.validator[t].state=a,e.validator[t].valid=!0,e.validator[t].rules.forEach((function(n){n.test(a)||(e.validator[t].errors.push(n.message),e.validator[t].valid=!1)})),e.displayValidationErrors(t)},e.displayValidationErrors=function(t){var a=e.validator[t];return a.valid?"":a.errors.map((function(e,t){return r.a.createElement("div",{key:t,className:"error_div"},r.a.createElement("span",{className:"error"}," ",e),r.a.createElement("br",null))}))},e.addUser=function(t){t.preventDefault();var a={fname:e.state.fname,lname:e.state.lname,email:e.state.email,password:e.state.password};e.hasEmptyFields()||e.hasValidatorError()||e.props.signUp(a)},e.hasValidatorError=function(){for(var t in e.validator)if(e.validator[t].errors)return!0;return!1},e.hasEmptyFields=function(){return""===e.state.email||""===e.state.fname||""===e.state.lname||""===e.state.password},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.resetValidator()}},{key:"componentDidUpdate",value:function(e){this.props.signedIn&&this.props.signedIn!==e.signedIn&&this.props.history.push("/dashboard")}},{key:"showPassword",value:function(e){e.preventDefault(),this.setState((function(e){return{showPassword:!e.showPassword}}))}},{key:"render",value:function(){var e=this,t=this.state.showPassword;return r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form_form-group"},r.a.createElement("span",{className:"form_form-group-label"},"First name"),r.a.createElement("div",{className:"form_form-group-field"},r.a.createElement("div",{className:"form_form-group-icon"},r.a.createElement(C.a,null)),r.a.createElement(b.a,{id:"fname",type:"text",name:"fname",placeholder:"First name",value:this.state.fname,onChange:function(t){return e.handleInputChange(t,"fname")}})),r.a.createElement("div",{className:"error_div_container"},this.displayValidationErrors("fname"))),r.a.createElement("div",{className:"form_form-group"},r.a.createElement("span",{className:"form_form-group-label"},"Last name"),r.a.createElement("div",{className:"form_form-group-field"},r.a.createElement("div",{className:"form_form-group-icon"},r.a.createElement(C.a,null)),r.a.createElement(b.a,{id:"lname",type:"text",name:"lname",placeholder:"Last name",value:this.state.lname,onChange:function(t){return e.handleInputChange(t,"lname")}})),r.a.createElement("div",{className:"error_div_container"},this.displayValidationErrors("lname"))),r.a.createElement("div",{className:"form_form-group"},r.a.createElement("span",{className:"form_form-group-label"},"E-mail"),r.a.createElement("div",{className:"form_form-group-field"},r.a.createElement("div",{className:"form_form-group-icon"},r.a.createElement(D.a,null)),r.a.createElement(b.a,{id:"email",type:"email",ref:"email",name:"email",placeholder:"example@mail.com",value:this.state.email,onChange:function(t){return e.handleInputChange(t,"email")}})),r.a.createElement("div",{className:"error_div_container"},this.displayValidationErrors("email"))),r.a.createElement("div",{className:"form_form-group form_form-group--forgot"},r.a.createElement("span",{className:"form_form-group-label"},"Password"),r.a.createElement("div",{className:"form_form-group-field"},r.a.createElement("div",{className:"form_form-group-icon"},r.a.createElement(O.a,null)),r.a.createElement(b.a,{id:"password",ref:"password",name:"password",type:this.state.showPassword?"text":"password",placeholder:"Password",value:this.state.password,onChange:function(t){return e.handleInputChange(t,"password")}}),r.a.createElement("button",{type:"button",className:"form_form-group-button".concat(t?" active":""),onClick:function(t){return e.showPassword(t)}},r.a.createElement(y.a,null))),r.a.createElement("div",{className:"error_div_container"},this.displayValidationErrors("password"))),r.a.createElement("div",{className:"account_btns"},r.a.createElement(h.a,{id:"submit",className:"btn btn-primary account_btn signup_btn",to:"/dashboard",onClick:this.addUser},"Sign Up")))}}]),a}(r.a.Component)),j=Object(s.c)((function(e,t){return{signedIn:e.Account.signedIn,history:t.history}}),{signUp:function(e){return function(t){fetch("/api/signUp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(a){if(a.correctUser)return localStorage.setItem("signedIn",JSON.stringify(!0)),localStorage.setItem("username",e.email),localStorage.setItem("fname",e.fname),localStorage.setItem("lname",e.lname),Object(s.b)((function(){t(f(a.user)),t(E(!0))}));localStorage.setItem("signedIn",JSON.stringify(!1)),t(E(!1)),window.alert("The username is already taken")}))}}})(I),A=(a(77),function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"account"},r.a.createElement("div",{className:"account_wrapper"},r.a.createElement("div",{className:"account_card"},r.a.createElement(j,{history:this.props.history}),r.a.createElement("div",{className:"account_have-account"},r.a.createElement("span",null,"Already have an account? ",r.a.createElement(h.a,{to:"/signin"},"Login"))))))}}]),a}(r.a.PureComponent)),S=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",showPassword:!1},e.checkUser=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.hasEmptyFields()||e.props.signIn(a)},e.handleInputChange=function(t,a){e.setState(Object(g.a)({},a,t.target.value))},e.showPassword=function(t){t.preventDefault(),e.setState((function(e){return{showPassword:!e.showPassword}}))},e.hasEmptyFields=function(){return""===e.state.email||""===e.state.password},e}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.signedIn&&this.props.signedIn!==e.signedIn&&this.props.history.push("/dashboard")}},{key:"render",value:function(){var e=this,t=this.state.showPassword;return r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form_form-group"},r.a.createElement("span",{className:"form_form-group-label"},"Username"),r.a.createElement("div",{className:"form_form-group-field"},r.a.createElement("div",{className:"form_form-group-icon"},r.a.createElement(C.a,null)),r.a.createElement(b.a,{name:"username",type:"text",placeholder:"Username",value:this.state.email,onChange:function(t){return e.handleInputChange(t,"email")}}))),r.a.createElement("div",{className:"form_form-group"},r.a.createElement("span",{className:"form_form-group-label"},"Password"),r.a.createElement("div",{className:"form_form-group-field"},r.a.createElement("div",{className:"form_form-group-icon"},r.a.createElement(O.a,null)),r.a.createElement(b.a,{name:"password",type:t?"text":"password",placeholder:"Password",value:this.state.password,onChange:function(t){return e.handleInputChange(t,"password")}}),r.a.createElement("button",{type:"button",className:"form_form-group-button".concat(t?" active":""),onClick:this.showPassword},r.a.createElement(y.a,null)))),r.a.createElement("div",{className:"account_btns"},r.a.createElement(h.a,{className:"btn btn-primary account_btn signin_btn",to:"/dashboard",onClick:this.checkUser},"Sign In"),r.a.createElement(h.a,{className:"btn btn-outline-primary account_btn signup_btn",to:"/signup"},"Create Account")))}}]),a}(n.PureComponent),T=Object(s.c)((function(e,t){return{signedIn:e.Account.signedIn,history:t.history}}),{signIn:function(e){return function(t){fetch("/api/signIn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){if(e.correctUser)return localStorage.setItem("signedIn",JSON.stringify(!0)),localStorage.setItem("username",e.user.email),localStorage.setItem("fname",e.user.fname),localStorage.setItem("lname",e.user.lname),Object(s.b)((function(){t(f(e.user)),t(E(!0))}));localStorage.setItem("signedIn",JSON.stringify(!1)),t(E(!1)),window.alert("The username or password you entered is incorrect")}))}}})(S),k=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"account"},r.a.createElement("div",{className:"account_wrapper"},r.a.createElement("div",{className:"account_card"},r.a.createElement(T,{history:this.props.history}))))}}]),a}(r.a.PureComponent),R=a(28),U=a.n(R);function L(e){fetch("/api/linkUserToPlan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.success}))}var x=a(95),H=a(96),F=a(97),M=a(93),J=a(101),B=a(94),V=a(41),G=a.n(V),W=function(e){return"Create"===e},z=function(e){return e.substring(0,10)},Z=function(e,t,a){var n=new Date(e),r=new Date(t);return n<=a&&a<=r},$=function(){return U()().format("llll")},q=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={planID:"",isOpen:!1,hasDateError:!1,title:"",start:"",end:""},e.toggleModal=function(){!e.props.item&&W(e.props.buttonText)?e.setState((function(e){return{isOpen:!e.isOpen,hasDateError:!1,planID:e.isOpen?"":G.a.v4(),title:"",start:"",end:""}})):e.setState((function(t){return{isOpen:!t.isOpen,hasDateError:!1,planID:e.props.item?e.props.item.planID:G.a.v4(),title:e.props.item?e.props.item.title:"",start:e.props.item?z(e.props.item.start):"",end:e.props.item?z(e.props.item.end):""}}))},e.handleInputChange=function(t,a){e.setState(Object(g.a)({},a,t.target.value),(function(){if(("start"===a||"end"===a)&&""!==e.state.start&&""!==e.state.end){var t=new Date(e.state.start),n=new Date(e.state.end);t.getTime()>n.getTime()?e.setState({hasDateError:!0}):e.setState({hasDateError:!1})}}))},e.hasEmptyField=function(){return""===e.state.title||""===e.state.start||""===e.state.end||e.state.hasDateError},e.createPlan=function(t){t.preventDefault(),t.stopPropagation();var a={planID:e.state.planID,title:e.state.title,start:e.state.start,end:e.state.end,timeCreated:$()},n={email:e.props.username,planID:e.state.planID};e.props.onClick(a),e.props.onLinkUser&&e.props.onLinkUser(n),e.toggleModal()},e.editPlan=function(t){t.preventDefault(),t.stopPropagation();var a={planID:e.state.planID,title:e.state.title,start:e.state.start,end:e.state.end,timeCreated:$()};e.props.onClick(a),e.toggleModal()},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"theme-light wrapper blocks-with-shadow-theme top-navigation"},r.a.createElement(M.a,{outline:!1,size:"sm",color:"primary",btn:this.props.buttonName,className:"icon account_btn",onClick:this.toggleModal},this.props.buttonText," Plan"),r.a.createElement(J.a,{isOpen:this.state.isOpen,toggle:this.toggleModal,className:"modal-dialog--primary theme-light"},r.a.createElement("div",{className:"modal_header"},r.a.createElement("button",{className:"lnr lnr-cross modal_close-btn",type:"button",onClick:this.toggleModal}),r.a.createElement("h4",{className:"modal_title"},this.props.buttonName)),r.a.createElement("div",{className:"dashboard_place-order-form"},r.a.createElement("form",{className:"form form--vertical"},r.a.createElement("div",{className:"form_form-group"},r.a.createElement("span",{className:"form_form-group-label"},"Plan Title"),r.a.createElement("div",{className:"form_form-group-field"},r.a.createElement(b.a,{name:"title",type:"text",placeholder:"Title",value:this.state.title,onChange:function(t){return e.handleInputChange(t,"title")}}))),r.a.createElement("div",{className:"form_form-group"},r.a.createElement("span",{className:"form_form-group-label"},"Start Date"),r.a.createElement("div",{className:"form_form-group-field"},r.a.createElement(b.a,{name:"startDate",type:"date",placeholder:"yyyy-mm-dd",value:this.state.start,onChange:function(t){return e.handleInputChange(t,"start")}}))),r.a.createElement("div",{className:"form_form-group"},r.a.createElement("span",{className:"form_form-group-label"},"End Date"),r.a.createElement("div",{className:"form_form-group-field"},r.a.createElement(b.a,{name:"endDate",type:"date",placeholder:"yyyy-mm-dd",value:this.state.end,onChange:function(t){return e.handleInputChange(t,"end")}})),r.a.createElement("span",{style:{display:this.state.hasDateError?"":"none",color:"red"}},"The end date needs to be after the start date.")),r.a.createElement(B.a,{className:"modal_footer"},r.a.createElement(M.a,{outline:!1,color:"primary",type:"submit",disabled:this.hasEmptyField(),onClick:"Create"===this.props.buttonText?this.createPlan:this.editPlan},this.props.buttonText),r.a.createElement(M.a,{onClick:this.toggleModal},"Cancel"))))))}}]),a}(r.a.PureComponent),K=a(54),Q=a.n(K),X=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).deletePlan=function(t){t.preventDefault(),t.stopPropagation();var a={email:e.props.username,planID:e.props.item.planID};e.props.deletePlan(a)},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"board"},r.a.createElement(h.a,{to:"/plan/".concat(this.props.item.planID)},r.a.createElement("div",{className:"board_style"},r.a.createElement("div",{className:"board_img-wrap"},r.a.createElement("div",{className:"board_img_rect"})),r.a.createElement("div",{className:"board_info"},r.a.createElement("h4",{className:"board_title"},this.props.item.title),r.a.createElement("p",{className:"board_description"},z(this.props.item.start),"\xa0",r.a.createElement(Q.a,{size:"12px"}),"\xa0",z(this.props.item.end))))),r.a.createElement("div",{className:"board_btn"},r.a.createElement(q,{item:this.props.item,username:this.props.username,buttonName:"Edit plan",buttonText:"Edit",onClick:this.props.editPlan}),r.a.createElement("button",{className:"lnr lnr-cross board_close-btn",type:"button",onClick:this.deletePlan})))}}]),a}(r.a.PureComponent),Y=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"boards_wrap"},r.a.createElement("div",{className:"boards"},this.props.items.map((function(t,a){return r.a.createElement(X,{key:t.planID,item:t,username:e.props.username,editPlan:e.props.editPlan,deletePlan:e.props.deletePlan})}))))}}]),a}(r.a.PureComponent),ee=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"board"},r.a.createElement("div",{className:"board_style"},r.a.createElement("div",{className:"board_img-wrap"},r.a.createElement("div",{className:"board_img_rect_loading"})),r.a.createElement("div",{className:"board_info"},r.a.createElement("div",{className:"board_link"},r.a.createElement("div",{className:"board_title_loading"})),r.a.createElement("div",{className:"board_description_loading"}))),r.a.createElement("div",{className:"board_btn"},r.a.createElement("div",{className:"account_btn_loading"}),r.a.createElement("div",{className:"lnr lnr-cross board_close-btn_loading"})))}}]),a}(r.a.PureComponent),te=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showLoadingState:!1},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({showLoadingState:!0})}),20),this.props.fetchPlansFromDB(this.props.username)}},{key:"render",value:function(){return r.a.createElement(x.a,null,r.a.createElement(H.a,null,r.a.createElement(F.a,{md:12},r.a.createElement("h3",{className:"page-title"},"Boards"),r.a.createElement("h3",{className:"page-subhead subhead"},this.props.loaded?this.props.plans.length?r.a.createElement("span",null,"Click on a board to view your activity"):r.a.createElement("span",null,'Click on "Create Plan" to start a plan '):r.a.createElement("span",null,"\xa0")),r.a.createElement("div",{className:"board_createbtn"},r.a.createElement(q,{username:this.props.username,buttonName:"Create a Plan",buttonText:"Create",onClick:this.props.createPlan,onLinkUser:L})))),r.a.createElement(H.a,null,r.a.createElement(F.a,{md:12,lg:12},!this.props.loaded&&this.state.showLoadingState&&r.a.createElement("div",{className:"boards_wrap"},r.a.createElement("div",{className:"boards"},r.a.createElement(ee,null))),r.a.createElement(Y,{username:this.props.username,items:this.props.plans,editPlan:this.props.editPlan,deletePlan:this.props.deletePlan}))))}}]),a}(r.a.PureComponent),ae=Object(s.c)((function(e){return{username:e.Account.userName,plans:e.Plans.plans,loaded:e.Plans.loaded}}),{createPlan:function(e){return function(t){fetch("/api/createPlan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(a){if(a.success)return t(function(e){return{type:"@@DASHBOARD/INSERT_PLAN_ACTION",plan:e}}(e));console.log("CREATE PLAN ACTION ERRORRRRRRRRRRR")}))}},editPlan:function(e){return function(t){fetch("/api/editPlan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(a){if(a.success)return t(function(e){return{type:"@@DASHBOARD/EDIT_PLAN_ACTION",plan:e}}(e))}))}},deletePlan:function(e){return function(t){fetch("/api/deletePlan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(a){if(a.success)return t({type:"@@DASHBOARD/DELETE_PLAN_ACTION",planID:e.planID})}))}},fetchPlansFromDB:function(e){return function(t){fetch("/api/fetchPlansForUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then((function(e){return e.json()})).then((function(e){e.success&&fetch("/api/getPlansInfoWithID",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.planIDs)}).then((function(e){return e.json()})).then((function(e){if(e.success)return Object(s.b)((function(){t(function(e){return{type:"@@DASHBOARD/FETCH_PLAN_ACTION",plans:e}}(e.plans.sort((function(e,t){var a=U()(e.timeCreated),n=U()(t.timeCreated);return a.isBefore(n)?1:-1})))),t({type:"@@DASHBOARD/UPDATE_FETCH_STATE_ACTION",loaded:!0})}))}))}))}}})(te),ne=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return this.props.signedIn?r.a.createElement(d.b,{path:this.props.path,render:function(t){return r.a.createElement(e.props.component,t)}}):r.a.createElement(d.a,{to:"/"})}}]),a}(r.a.PureComponent),re=Object(s.c)((function(e,t){return{signedIn:e.Account.signedIn,path:t.path,component:t.component}}),null)(ne),oe=a(98),le=a(55),se=a.n(le),ie=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,{className:"topbar_link",to:this.props.path,onClick:this.props.onClick},r.a.createElement("span",{className:"topbar_link-icon lnr lnr-".concat(this.props.icon)}),r.a.createElement("p",{className:"topbar_link-title"},this.props.title))}}]),a}(r.a.PureComponent),ce=function(e){return e.length?e.charAt(0).toUpperCase()+e.substring(1):e},me=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.toggle=function(){e.setState((function(e){return{collapsed:!e.collapsed}}))},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"topbar_profile"},r.a.createElement("button",{className:"topbar_avatar",type:"button",onClick:this.toggle,style:{backgroundColor:this.state.collapsed?"#eeebeb":""}},r.a.createElement("div",{className:"topbar_avatar_holder"}),r.a.createElement("p",{className:"topbar_avatar-name"},ce(this.props.fname)+" "+ce(this.props.lname)),r.a.createElement(se.a,{className:"topbar_icon"})),this.state.collapsed&&r.a.createElement("button",{className:"topbar_back",type:"button",onClick:this.toggle}),r.a.createElement(oe.a,{isOpen:this.state.collapsed,className:"topbar_menu-wrap"},r.a.createElement("div",{className:"topbar_menu"},r.a.createElement(ie,{title:"Home",icon:"home",path:"/"}),r.a.createElement(ie,{title:"My Profile",icon:"user",path:"/"}),r.a.createElement(ie,{title:"Sign Out",icon:"exit",path:"/",onClick:this.props.signOut}))))}}]),a}(r.a.PureComponent),pe=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"layout layout--top-navigation"},r.a.createElement("div",{className:"topbar topbar--navigation"},r.a.createElement("div",{className:"topbar_wrapper"},r.a.createElement("div",{className:"topbar_left"},r.a.createElement(h.a,{className:"topbar_logo",to:"/dashboard/"})),r.a.createElement("div",{className:"topbar_right"},r.a.createElement(me,{fname:this.props.fname,lname:this.props.lname,signOut:this.props.signOut})))))}}]),a}(r.a.PureComponent),ue=Object(s.c)((function(e){return{fname:e.Account.fname,lname:e.Account.lname}}),{signOut:function(){localStorage.clear();var e={email:"",password:"",fname:"",lname:""};return function(t){return Object(s.b)((function(){t(f(e)),t(E(!1))}))}}})(pe);var de,he=a(99),fe=a(100),Ee=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showModal:!1},e.toggleEditCollaborators=function(t){t.preventDefault(),e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"form_wrapper theme-light wrapper blocks-with-shadow-theme top-navigation"},r.a.createElement(M.a,{className:"icon btn-primary profile_editCollab",onClick:this.toggleEditCollaborators},r.a.createElement("p",null,"Edit collaborators")),r.a.createElement(J.a,{isOpen:this.state.showModal,toggle:this.toggleEditCollaborators,className:"modal-dialog--primary theme-light"},r.a.createElement("div",{className:"modal_header"},r.a.createElement("button",{className:"lnr lnr-cross modal_close-btn",type:"button",onClick:this.toggleEditCollaborators}),r.a.createElement("h4",{className:"modal_title"},"Add or remove Collaborators"))))}}]),a}(r.a.PureComponent),ge=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(F.a,{md:12,lg:12,xl:12},r.a.createElement(he.a,null,r.a.createElement(fe.a,{className:"profile_card"},r.a.createElement("div",{className:"profile_information"},r.a.createElement("div",{className:"profile_avatar_holder"}),r.a.createElement("div",{className:"profile_data"},r.a.createElement("p",{className:"profile_name"},this.props.planTitle),r.a.createElement("p",{className:"profile_work"},(e=this.props.planStartDate)?["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(e.slice(5,7))-1]+"-"+e.slice(0,4):""),r.a.createElement(Ee,{planID:this.props.planID}))))));var e}}]),a}(r.a.PureComponent),be=a(56),ve=a(29),ye=a(57),Ne=a(58),Oe=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).CalendarRef=r.a.createRef(),e}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){if(this.props.planStartDate&&this.props.planStartDate!==e.planStartDate){var t,a=null===(t=this.CalendarRef.current)||void 0===t?void 0:t.getApi();null===a||void 0===a||a.gotoDate(this.props.planStartDate)}}},{key:"render",value:function(){return r.a.createElement("div",{className:"CalendarDashboard"},r.a.createElement("div",{className:"Calendar"},this.props.shouldDisplayCalendar?r.a.createElement(be.a,{ref:this.CalendarRef,timeZone:"UTC",defaultView:"dayGridMonth",allDaySlot:!1,plugins:[ve.d,ye.a,Ne.a],droppable:!0,contentHeight:575,themeSystem:"bootstrap",header:{left:"today, prev, next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},handleWindowResize:!0,editable:!0,selectable:!0,selectMirror:!0,eventDurationEditable:!0,defaultDate:this.props.planStartDate,dayRender:this.props.dateHighlighter}):r.a.createElement("div",null,"Hello")))}}]),a}(r.a.PureComponent),_e=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loaded:!1},e.dateHighlighter=function(t){Z(e.props.planStartDate,e.props.planEndDate,t.date)&&(t.el.style.backgroundColor="#bce8f1",t.el.style.opacity="0.2")},e}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.planStartDate&&this.props.planEndDate&&e.planStartDate!==this.props.planStartDate&&e.planEndDate!==this.props.planEndDate&&this.setState({loaded:!0})}},{key:"render",value:function(){return r.a.createElement(he.a,null,r.a.createElement(fe.a,{className:"profile_card--calendar"},r.a.createElement(Oe,{planStartDate:this.props.planStartDate,shouldDisplayCalendar:this.state.loaded,dateHighlighter:this.dateHighlighter})))}}]),a}(r.a.PureComponent),Ce=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(F.a,{md:12,lg:12,xl:12},r.a.createElement(he.a,null,r.a.createElement(fe.a,{className:"profile__card placeholder"},"PLACEHOLDER")))}}]),a}(r.a.PureComponent),Pe=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e=window&&"location"in window&&"protocol"in window.location&&"pathname"in window.location&&"host"in window.location?window.location.pathname.substring(6):"";this.props.getCurrentPlanInfo(e)}},{key:"componentWillUnmount",value:function(){this.props.clearPlanPage()}},{key:"render",value:function(){return r.a.createElement(x.a,null,r.a.createElement("div",{className:"profile"},r.a.createElement(H.a,null,r.a.createElement(F.a,{md:12,lg:12,xl:4},r.a.createElement(H.a,null,r.a.createElement(ge,{planID:this.props.currentPlanID,planTitle:this.props.currentPlanTitle,planStartDate:this.props.currentPlanStartDate}),r.a.createElement(Ce,null))),r.a.createElement(F.a,{md:12,lg:12,xl:8},r.a.createElement(_e,{planStartDate:this.props.currentPlanStartDate,planEndDate:this.props.currentPlanEndDate})))))}}]),a}(r.a.PureComponent),De=Object(s.c)((function(e){return{currentPlanID:e.PlanPage.planID,currentPlanTitle:e.PlanPage.title,currentPlanStartDate:e.PlanPage.start,currentPlanEndDate:e.PlanPage.end}}),{getCurrentPlanInfo:function(e){return function(t){fetch("/api/getPlanInfoWithID",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planID:e})}).then((function(e){return e.json()})).then((function(e){if(e.success)return t({type:"@@PLANPAGE/UPDATE_CURRENT_PLAN_ACTION",plan:e.plan});console.log("Fetch plan info error")}))}},clearPlanPage:function(){return function(e){return e({type:"@@PLANPAGE/CLEAR_CURRENT_PLAN_ACTION"})}}})(Pe),we=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,null),r.a.createElement("div",{className:"container_wrap"},r.a.createElement(d.b,{exact:!0,path:"/dashboard"},r.a.createElement(ae,null)),r.a.createElement(d.b,{exact:!0,path:"/plan/:planID"},r.a.createElement(De,null))))},Ie=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(d.c,{history:this.props.history},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/"},this.props.signedIn?r.a.createElement(d.a,{to:"/dashboard"}):r.a.createElement(k,{history:this.props.history})),r.a.createElement(d.b,{exact:!0,path:"/signup"},this.props.signedIn?r.a.createElement(d.a,{to:"/dashboard"}):r.a.createElement(A,{history:this.props.history})),r.a.createElement(d.b,{path:"/signin"},this.props.signedIn?r.a.createElement(d.a,{to:"/dashboard"}):r.a.createElement(k,{history:this.props.history})),r.a.createElement(re,{path:"/",component:we})))}}]),a}(r.a.PureComponent),je=Object(s.c)((function(e,t){return{signedIn:e.Account.signedIn,history:t.history}}),null)(Ie),Ae=Object(i.a)(),Se=function(){return r.a.createElement("div",{className:"theme-light"},r.a.createElement("div",{className:"wrapper blocks-with-shadow-theme top-navigation"},r.a.createElement(je,{history:Ae})))},Te=a(25),ke=a(59),Re=a(60),Ue={userName:localStorage.username,fname:localStorage.fname,lname:localStorage.lname,signedIn:(de=localStorage.signedIn,"true"===de)},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@USER/UPDATE_USER_INFO_ACTION":return{userName:t.userName,fname:t.fname,lname:t.lname,signedIn:e.signedIn};case"@@USER/UPDATE_ACCOUNT_SIGNED_IN_ACTION":return{userName:e.userName,fname:e.fname,lname:e.lname,signedIn:t.signedIn};default:return e}},xe={loaded:!1,plans:[]},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0,a=[];switch(t.type){case"@@DASHBOARD/INSERT_PLAN_ACTION":return a.push(t.plan),a=a.concat(e.plans),{loaded:e.loaded,plans:a};case"@@DASHBOARD/FETCH_PLAN_ACTION":return{loaded:e.loaded,plans:t.plans};case"@@DASHBOARD/EDIT_PLAN_ACTION":return e.plans.forEach((function(e){e.planID!==t.plan.planID?a.push(e):a.push(t.plan)})),{loaded:e.loaded,plans:a};case"@@DASHBOARD/DELETE_PLAN_ACTION":return e.plans.forEach((function(e){e.planID!==t.planID&&a.push(e)})),{loaded:e.loaded,plans:a};case"@@DASHBOARD/UPDATE_FETCH_STATE_ACTION":return{loaded:t.loaded,plans:e.plans};default:return e}},Fe={planID:"",title:"",start:"",end:"",timeCreated:""},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@PLANPAGE/UPDATE_CURRENT_PLAN_ACTION":return{planID:t.plan.planID,title:t.plan.title,start:t.plan.start,end:t.plan.end,timeCreated:t.plan.timeCreated};case"@@PLANPAGE/CLEAR_CURRENT_PLAN_ACTION":return{planID:"",title:"",start:"",end:"",timeCreated:""};default:return e}},Je=Object(Te.combineReducers)({Account:Le,Plans:He,PlanPage:Me});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(s.a,{store:Object(Te.createStore)(Je,Object(ke.composeWithDevTools)(Object(Te.applyMiddleware)(Re.a)))},r.a.createElement(Se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[61,1,2]]]);
//# sourceMappingURL=main.c89b81ad.chunk.js.map